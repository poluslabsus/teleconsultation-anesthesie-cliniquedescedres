<!DOCTYPE html> 
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <title>Teleconsultation Anesthesie Clinique des Cedres</title>
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <style>
        :root {
            --primary-text: #0d1938;
            --body-text: #1f2933;
            --button-bg: #0b2f6a;
            --button-bg-hover: #0d3b85;
            --button-text: #ffffff;
        }

        body {
            font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto,
                         "Helvetica Neue", Arial, sans-serif;
            margin: 0;
            padding: 0;
            line-height: 1.6;
            background: #ffffff;
            color: var(--body-text);
        }

        .header-container {
            width: 100%;
            text-align: center;
            margin-top: 40px;
        }

        .titre-site {
            color: var(--primary-text);
            font-size: 46px;
            font-weight: 700;
            margin: 0;
            display: inline-block;
            position: relative;
            padding-bottom: 10px;
        }

        .titre-site::after {
            content: "";
            display: block;
            width: 100px;
            height: 4px;
            background-color: var(--primary-text);
            margin: 10px auto 0 auto;
            border-radius: 3px;
        }

        .sous-titre {
            font-size: 40px;
            color: var(--primary-text);
            font-weight: 700;
            margin-top: 15px;
            margin-bottom: 30px;
        }

        main {
            max-width: 800px;
            margin: 20px auto 40px auto;
            background: #ffffff;
            padding: 20px;
            border: 2px solid black;
            border-radius: 15px;
            box-shadow: 0 4px 15px rgba(0,0,0,0.25);
        }

        .encadre-tele {
            background: #eeeeee;
            border-radius: 8px;
            padding: 15px;
            color: var(--body-text);
            font-size: 17px;
            text-align: left;
            margin-bottom: 20px;
        }

        section {
            margin-bottom: 40px;
        }

        h2 {
            border-bottom: 2px solid #ddd;
            padding-bottom: 5px;
            text-align: center;
            color: var(--primary-text);
        }

        #resultat {
            text-align: center;
        }

        .button {
            display: inline-block;
            padding: 10px 18px;
            margin-top: 10px;
            border-radius: 8px;
            border: none;
            background: var(--button-bg);
            color: var(--button-text);
            text-decoration: none;
            cursor: pointer;
            font-size: 16px;
            font-weight: 600;
            text-transform: uppercase;
            letter-spacing: 0.03em;
        }

        .button:hover {
            background: var(--button-bg-hover);
        }

        .question {
            margin-bottom: 20px;
        }

        .question p {
            margin-bottom: 5px;
            font-weight: bold;
            color: var(--primary-text);
        }

        label {
            margin-right: 15px;
        }

        .centered {
            text-align: center;
            margin-top: 20px;
        }

        .encadre {
            background: #eeeeee;
            border-radius: 8px;
            padding: 15px;
            color: var(--body-text);
            text-align: center;
            margin-top: 20px;
        }

        .encadre .titre-encadre {
            font-weight: bold;
            margin-bottom: 10px;
            margin-top: 15px;
            color: var(--primary-text);
        }

        .encadre .texte-encadre {
            font-weight: normal;
        }

        option.option-autre {
            font-weight: bold;
            font-size: calc(1em + 2pt);
        }
    </style>
</head>
<body>

    <div class="header-container">
        <h1 class="titre-site">
            Cabinet d'anesthésie de la clinique des Cèdres
        </h1>
        <div class="sous-titre">Espace Téléconsultation</div>
    </div>

    <main>

        <div class="encadre-tele">
            <b>Vous souhaitez réaliser votre consultation d'anesthésie en Téléconsultation</b><br><br>
            - Cela se fait à distance, en visio, via un logiciel sécurisé,<br>
            - L'usage de la Téléconsultation n'est pas une obligation,<br>
            - C'est un souhait de votre part et une possibilité que nous proposons si vous êtes éligible.
        </div>

        <section id="questionnaire">
            <h2>
                Merci de répondre aux questions pour savoir 
                si c'est possible pour vous ou pas.
            </h2>

            <form id="questionnaire-form">

                <div class="question" id="bloc-q1">
                    <p>1. Avez-vous plus de <b>65 ans</b> ?</p>
                    <label><input type="radio" name="q1" value="oui"> Oui</label>
                    <label><input type="radio" name="q1" value="non"> Non</label>
                </div>

                <div class="question" id="bloc-q2">
                    <p>2. Sélectionnez votre intervention :</p>
                    <select name="q3" id="q3">
                        <option value="">-- Sélectionnez votre intervention --</option>
                        <option value="cystectomie">Cystectomie</option>
                        <option value="bricker">Bricker</option>
<option value="Prostatectomie">Prostatectomie</option>
                        <option value="duodenopancreatectomie">Duodenoprancréatectomie</option>
                        <option value="pancreatectomie">Pancréatectomie</option>
                        <option value="gastrectomie">Gastrectomie</option>
                        <option value="colectomie">Colectomie</option>
                        <option value="hepatectomie">Hépatectomie</option>
                        <option value="splenectomie">Splénectomie</option>
                        <option value="pth-pth">Prothèse Totale de Hanche</option>
                        <option value="ptg-ptg">Prothèse Totale de Genou</option>
                        <option value="pte">Prothèse Totale d'Épaule</option>
                        <option value="hysterectomie">Hystérectomie</option>
                        <option value="osteotomie-bimaxillaire">Ostéotomie BiMaxillaire</option>
                        <option value="osteotomie-mandibulaire">Ostéotomie Mandibulaire</option>
                        <option value="laryngectomie">Laryngectomie</option>
                        <option value="cervicotomie">Cervicotomie</option>
                        <option value="parotidectomie">Parotidectomie</option>
                        <option value="catheterisme-voies-biliaires">Cathétérisme des voies biliaires</option>
                        <option value="dissection-sous-muqueuse-gastrique">Dissection sous-muqueuse gastrique</option>
                        <option value="dissection-sous-muqueuse-colique">Dissection sous-muqueuse colique</option>
                        <option value="mucosectomie-gastrique">Mucosectomie gastrique</option>
                        <option value="mucosectomie-colique">Mucosectomie colique</option>
                        <option value="mastectomie-affirmation-genre">Mastectomie d'affirmation de genre</option>
                        <option value="autre">----------------------------------------------</option>
                        <option value="autre" class="option-autre">Mon intervention n'est pas dans cette liste</option>
                    </select>
                </div>

                <div class="question" id="bloc-q3">
                    <p>3. Êtes-vous mineur ?</p>
                    <label><input type="radio" name="q2" value="oui"> Oui</label>
                    <label><input type="radio" name="q2" value="non"> Non</label>
                </div>

                <div class="question" id="bloc-q4">
                    <p>
                        4. Etes-vous une personne majeure protégée
                        <span style="font-weight: normal;">(sous tutelle ou curatelle ou autre mesure de protection)</span>
                        ou dépendante d'aide pour les démarches administratives ?
                    </p>
                    <label><input type="radio" name="q4" value="oui"> Oui</label>
                    <label><input type="radio" name="q4" value="non"> Non</label>
                </div>

                <div class="question" id="bloc-q5">
                    <p>5. Avez-vous déjà été hospitalisé en réanimation ou en service de soins intensifs ?</p>
                    <label><input type="radio" name="q5" value="oui"> Oui</label>
                    <label><input type="radio" name="q5" value="non"> Non</label>
                </div>

                <div class="question" id="bloc-q6">
                    <p>
                        6. Si vous avez déjà été opéré, y a t'il eu des complications au cours de cette intervention ?
                        <span style="font-weight: normal;">(si vous n'avez jamais été opéré répondez Non)</span>
                    </p>
                    <label><input type="radio" name="q6" value="oui"> Oui</label>
                    <label><input type="radio" name="q6" value="non"> Non</label>
                </div>

                <div class="question" id="bloc-q7">
                    <p>
                        7. Etes-vous capable de pratiquer un sport ou une activité physique ?
                        <span style="font-weight: normal;">(Course à pied, montée de 3 étages sans s'arrêter, débroussailleuse)</span>
                    </p>
                    <label><input type="radio" name="q7" value="oui"> Oui</label>
                    <label><input type="radio" name="q7" value="non"> Non</label>
                </div>

                <div class="question" id="bloc-q8">
                    <p>
                        8. Avez-vous déjà fait de l'angor, de l'angine de poitrine et/ou été victime d'un infarctus du myocarde <span style="font-weight: normal;">(le coeur)</span> ?
                    </p>
                    <label><input type="radio" name="q8" value="oui"> Oui</label>
                    <label><input type="radio" name="q8" value="non"> Non</label>
                </div>

                <div class="question" id="bloc-q9">
                    <p>
                        9. Avez-vous déjà été opéré du cœur et/ou eu la pose d'un stent <span style="font-weight: normal;">(ressort dans une artère)</span> ?
                    </p>
                    <label><input type="radio" name="q9" value="oui"> Oui</label>
                    <label><input type="radio" name="q9" value="non"> Non</label>
                </div>

                <div class="question" id="bloc-q10">
                    <p>10. Etes-vous porteur d'un pace maker ou d'un défibrillateur implantable ?</p>
                    <label><input type="radio" name="q10" value="oui"> Oui</label>
                    <label><input type="radio" name="q10" value="non"> Non</label>
                </div>

                <div class="question" id="bloc-q11">
                    <p>11. Vous a t-on déjà dit que vous aviez ou que vous faisiez de l'insuffisance cardiaque ?</p>
                    <label><input type="radio" name="q11" value="oui"> Oui</label>
                    <label><input type="radio" name="q11" value="non"> Non</label>
                </div>

                <div class="question" id="bloc-q12">
                    <p>12. Avez-vous déjà été victime d'un AVC : Accident Vasculaire Cérébral ou d'un AIT : Accident Ischémique Transitoire ?</p>
                    <label><input type="radio" name="q12" value="oui"> Oui</label>
                    <label><input type="radio" name="q12" value="non"> Non</label>
                </div>

                <div class="question" id="bloc-q13">
                    <p>
                        13. Prenez-vous des traitements anticoagulants ou 
                        anti-aggrégants plaquettaires ?
                        <br><br>
                        <i style="font-weight: normal;">
                        (Plavix, Clopidogrel, Xarelto, 
                        Rivaroxaban, Eliquis, Apixaban, Pradaxa, Dabigatran, 
                        Antivitamine K, Previscan, Fluindione, Coumadine, Warfarine, 
                        Sintrom, Acenocoumarol)
                        </i>
                    </p>
                    <label><input type="radio" name="q13" value="oui"> Oui</label>
                    <label><input type="radio" name="q13" value="non"> Non</label>
                </div>

                <div class="question" id="bloc-q14">
                    <p>14. Etes-vous actuellement enrhumé et/ou avec la fièvre et/ou avec les poumons "pris" et/ou avec une toux inhabituelle ?</p>
                    <label><input type="radio" name="q14" value="oui"> Oui</label>
                    <label><input type="radio" name="q14" value="non"> Non</label>
                </div>

                <div class="question" id="bloc-q15">
                    <p>
                        15. Si vous êtes asthmatique, avez-vous fait une crise au cours des 3 derniers mois ?
                        <span style="font-weight: normal;">(si vous n'est pas asthmatique répondez Non)</span>
                    </p>
                    <label><input type="radio" name="q15" value="oui"> Oui</label>
                    <label><input type="radio" name="q15" value="non"> Non</label>
                </div>

                <div class="question" id="bloc-q16">
                    <p>16. Avez-vous une bronchite chronique (BPCO) ou une maladie pulmonaire chronique ?</p>
                    <label><input type="radio" name="q16" value="oui"> Oui</label>
                    <label><input type="radio" name="q16" value="non"> Non</label>
                </div>

                <div class="question" id="bloc-q17">
                    <p>17. Avez-vous une connexion internet permettant une visio ?</p>
                    <label><input type="radio" name="q17" value="oui"> Oui</label>
                    <label><input type="radio" name="q17" value="non"> Non</label>
                </div>

                <div class="question" id="bloc-q18">
                    <p>18. Avez-vous une webcam fonctionnelle ?</p>
                    <label><input type="radio" name="q18" value="oui"> Oui</label>
                    <label><input type="radio" name="q18" value="non"> Non</label>
                </div>

                <div class="question" id="bloc-q19">
                    <p>19. Avez-vous un microphone fonctionnel ?</p>
                    <label><input type="radio" name="q19" value="oui"> Oui</label>
                    <label><input type="radio" name="q19" value="non"> Non</label>
                </div>

                <div class="question" id="bloc-q20">
                    <p>20. Serez-vous dans un endroit calme et silencieux lors de la téléconsultation ?</p>
                    <label><input type="radio" name="q20" value="oui"> Oui</label>
                    <label><input type="radio" name="q20" value="non"> Non</label>
                </div>

                <p id="resultat" style="font-weight:bold; margin-top:20px;"></p>

                <button type="reset" class="button" style="background: var(--button-bg); margin-left:10px;"
                    onclick="reinitialiserFormulaire();">
                    Effacer mes réponses
                </button>

                <div class="centered" id="btn-doctolib" style="display:none;">
                    <a href="https://www.doctolib.fr/cabinet-medical/echirolles/cabinet-d-anesthesie-des-cedres"
                       target="_blank" rel="noopener noreferrer"
                       class="button">
                        Retour vers Doctolib pour prendre rendez-vous
                    </a>
                </div>

            </form>
        </section>

        <script>
        function evalQuestions() {
            const blocIds = [
                'bloc-q1','bloc-q2','bloc-q3','bloc-q4','bloc-q5','bloc-q6',
                'bloc-q7','bloc-q8','bloc-q9','bloc-q10','bloc-q11','bloc-q12',
                'bloc-q13','bloc-q14','bloc-q15','bloc-q16','bloc-q17','bloc-q18',
                'bloc-q19','bloc-q20'
            ];

            blocIds.forEach((id, index) => {
                const el = document.getElementById(id);
                if (!el) return;
                if (index === 0) {
                    el.style.display = 'block';
                } else {
                    el.style.display = 'none';
                }
            });

            const zoneResultat = document.getElementById("resultat");
            const boutonDoctolib = document.getElementById("btn-doctolib");
            zoneResultat.textContent = "";
            zoneResultat.style.color = "";
            boutonDoctolib.style.display = "none";

            const r1 = document.querySelector('input[name="q1"]:checked');
            const selectInterv = document.getElementById('q3');
            const r2 = document.querySelector('input[name="q2"]:checked');
            const r4 = document.querySelector('input[name="q4"]:checked');
            const r5 = document.querySelector('input[name="q5"]:checked');
            const r6 = document.querySelector('input[name="q6"]:checked');
            const r7 = document.querySelector('input[name="q7"]:checked');
            const r8 = document.querySelector('input[name="q8"]:checked');
            const r9 = document.querySelector('input[name="q9"]:checked');
            const r10 = document.querySelector('input[name="q10"]:checked');
            const r11 = document.querySelector('input[name="q11"]:checked');
            const r12 = document.querySelector('input[name="q12"]:checked');
            const r13 = document.querySelector('input[name="q13"]:checked');
            const r14 = document.querySelector('input[name="q14"]:checked');
            const r15 = document.querySelector('input[name="q15"]:checked');
            const r16 = document.querySelector('input[name="q16"]:checked');
            const r17 = document.querySelector('input[name="q17"]:checked');
            const r18 = document.querySelector('input[name="q18"]:checked');
            const r19 = document.querySelector('input[name="q19"]:checked');
            const r20 = document.querySelector('input[name="q20"]:checked');

            let impossible = false;

            if (r1) {
                if (r1.value === "oui") {
                    impossible = true;
                } else {
                    const b2 = document.getElementById('bloc-q2');
                    if (b2) b2.style.display = 'block';
                }
            }

            let interventionValide = false;
            if (!impossible && r1 && r1.value === "non") {
                if (selectInterv && selectInterv.value !== "") {
                    if (selectInterv.value !== "autre") {
                        impossible = true;
                    } else {
                        interventionValide = true;
                        const b3 = document.getElementById('bloc-q3');
                        if (b3) b3.style.display = 'block';
                    }
                }
            }

            if (!impossible && r1 && r1.value === "non" && interventionValide) {
                if (r2) {
                    if (r2.value === "oui") {
                        impossible = true;
                    } else {
                        const b4 = document.getElementById('bloc-q4');
                        if (b4) b4.style.display = 'block';
                    }
                }
            }

            if (!impossible && r1 && r1.value === "non" && interventionValide && r2 && r2.value === "non") {
                if (r4) {
                    if (r4.value === "oui") {
                        impossible = true;
                    } else {
                        const b5 = document.getElementById('bloc-q5');
                        if (b5) b5.style.display = 'block';
                    }
                }
            }

            if (!impossible && r1 && r1.value === "non" && interventionValide &&
                r2 && r2.value === "non" && r4 && r4.value === "non") {
                if (r5) {
                    if (r5.value === "oui") {
                        impossible = true;
                    } else {
                        const b6 = document.getElementById('bloc-q6');
                        if (b6) b6.style.display = 'block';
                    }
                }
            }

            if (!impossible && r1 && r1.value === "non" && interventionValide &&
                r2 && r2.value === "non" && r4 && r4.value === "non" && r5 && r5.value === "non") {
                if (r6) {
                    if (r6.value === "oui") {
                        impossible = true;
                    } else {
                        const b7 = document.getElementById('bloc-q7');
                        if (b7) b7.style.display = 'block';
                    }
                }
            }

            if (!impossible && r1 && r1.value === "non" && interventionValide &&
                r2 && r2.value === "non" && r4 && r4.value === "non" && r5 && r5.value === "non" && r6 && r6.value === "non") {
                if (r7) {
                    if (r7.value === "non") {
                        impossible = true;
                    } else {
                        const b8 = document.getElementById('bloc-q8');
                        if (b8) b8.style.display = 'block';
                    }
                }
            }

            if (!impossible && r1 && r1.value === "non" && interventionValide &&
                r2 && r2.value === "non" && r4 && r4.value === "non" && r5 && r5.value === "non" &&
                r6 && r6.value === "non" && r7 && r7.value === "oui") {
                if (r8) {
                    if (r8.value === "oui") {
                        impossible = true;
                    } else {
                        const b9 = document.getElementById('bloc-q9');
                        if (b9) b9.style.display = 'block';
                    }
                }
            }

            if (!impossible && r1 && r1.value === "non" && interventionValide &&
                r2 && r2.value === "non" && r4 && r4.value === "non" && r5 && r5.value === "non" &&
                r6 && r6.value === "non" && r7 && r7.value === "oui" && r8 && r8.value === "non") {
                if (r9) {
                    if (r9.value === "oui") {
                        impossible = true;
                    } else {
                        const b10 = document.getElementById('bloc-q10');
                        if (b10) b10.style.display = 'block';
                    }
                }
            }

            if (!impossible && r1 && r1.value === "non" && interventionValide &&
                r2 && r2.value === "non" && r4 && r4.value === "non" && r5 && r5.value === "non" &&
                r6 && r6.value === "non" && r7 && r7.value === "oui" && r8 && r8.value === "non" && r9 && r9.value === "non") {
                if (r10) {
                    if (r10.value === "oui") {
                        impossible = true;
                    } else {
                        const b11 = document.getElementById('bloc-q11');
                        if (b11) b11.style.display = 'block';
                    }
                }
            }

            if (!impossible && r1 && r1.value === "non" && interventionValide &&
                r2 && r2.value === "non" && r4 && r4.value === "non" && r5 && r5.value === "non" &&
                r6 && r6.value === "non" && r7 && r7.value === "oui" && r8 && r8.value === "non" &&
                r9 && r9.value === "non" && r10 && r10.value === "non") {
                if (r11) {
                    if (r11.value === "oui") {
                        impossible = true;
                    } else {
                        const b12 = document.getElementById('bloc-q12');
                        if (b12) b12.style.display = 'block';
                    }
                }
            }

            if (!impossible && r1 && r1.value === "non" && interventionValide &&
                r2 && r2.value === "non" && r4 && r4.value === "non" && r5 && r5.value === "non" &&
                r6 && r6.value === "non" && r7 && r7.value === "oui" && r8 && r8.value === "non" &&
                r9 && r9.value === "non" && r10 && r10.value === "non" && r11 && r11.value === "non") {
                if (r12) {
                    if (r12.value === "oui") {
                        impossible = true;
                    } else {
                        const b13 = document.getElementById('bloc-q13');
                        if (b13) b13.style.display = 'block';
                    }
                }
            }

            if (!impossible && r1 && r1.value === "non" && interventionValide &&
                r2 && r2.value === "non" && r4 && r4.value === "non" && r5 && r5.value === "non" &&
                r6 && r6.value === "non" && r7 && r7.value === "oui" && r8 && r8.value === "non" &&
                r9 && r9.value === "non" && r10 && r10.value === "non" && r11 && r11.value === "non" &&
                r12 && r12.value === "non") {
                if (r13) {
                    if (r13.value === "oui") {
                        impossible = true;
                    } else {
                        const b14 = document.getElementById('bloc-q14');
                        if (b14) b14.style.display = 'block';
                    }
                }
            }

            /* q14 : si "oui" => impossible ; si "non" => question suivante (bloc-q15) */
            if (!impossible && r1 && r1.value === "non" && interventionValide &&
                r2 && r2.value === "non" && r4 && r4.value === "non" && r5 && r5.value === "non" &&
                r6 && r6.value === "non" && r7 && r7.value === "oui" && r8 && r8.value === "non" &&
                r9 && r9.value === "non" && r10 && r10.value === "non" && r11 && r11.value === "non" &&
                r12 && r12.value === "non" && r13 && r13.value === "non") {
                if (r14) {
                    if (r14.value === "oui") {
                        impossible = true;
                    } else {
                        const b15 = document.getElementById('bloc-q15');
                        if (b15) b15.style.display = 'block';
                    }
                }
            }

            /* q15 : si "oui" => impossible ; si "non" => question suivante (bloc-q16) */
            if (!impossible && r1 && r1.value === "non" && interventionValide &&
                r2 && r2.value === "non" && r4 && r4.value === "non" && r5 && r5.value === "non" &&
                r6 && r6.value === "non" && r7 && r7.value === "oui" && r8 && r8.value === "non" &&
                r9 && r9.value === "non" && r10 && r10.value === "non" && r11 && r11.value === "non" &&
                r12 && r12.value === "non" && r13 && r13.value === "non" && r14 && r14.value === "non") {
                if (r15) {
                    if (r15.value === "oui") {
                        impossible = true;
                    } else {
                        const b16 = document.getElementById('bloc-q16');
                        if (b16) b16.style.display = 'block';
                    }
                }
            }

            /* q16 : si "oui" => impossible ; si "non" => question suivante (bloc-q17) */
            if (!impossible && r1 && r1.value === "non" && interventionValide &&
                r2 && r2.value === "non" && r4 && r4.value === "non" && r5 && r5.value === "non" &&
                r6 && r6.value === "non" && r7 && r7.value === "oui" && r8 && r8.value === "non" &&
                r9 && r9.value === "non" && r10 && r10.value === "non" && r11 && r11.value === "non" &&
                r12 && r12.value === "non" && r13 && r13.value === "non" && r14 && r14.value === "non" &&
                r15 && r15.value === "non") {
                if (r16) {
                    if (r16.value === "oui") {
                        impossible = true;
                    } else {
                        const b17 = document.getElementById('bloc-q17');
                        if (b17) b17.style.display = 'block';
                    }
                }
            }

            /* q17 : si "non" => impossible ; si "oui" => question suivante (bloc-q18) */
            if (!impossible && r1 && r1.value === "non" && interventionValide &&
                r2 && r2.value === "non" && r4 && r4.value === "non" && r5 && r5.value === "non" &&
                r6 && r6.value === "non" && r7 && r7.value === "oui" && r8 && r8.value === "non" &&
                r9 && r9.value === "non" && r10 && r10.value === "non" && r11 && r11.value === "non" &&
                r12 && r12.value === "non" && r13 && r13.value === "non" && r14 && r14.value === "non" &&
                r15 && r15.value === "non" && r16 && r16.value === "non") {
                if (r17) {
                    if (r17.value === "non") {
                        impossible = true;
                    } else {
                        const b18 = document.getElementById('bloc-q18');
                        if (b18) b18.style.display = 'block';
                    }
                }
            }

            if (!impossible && r1 && r1.value === "non" && interventionValide &&
                r2 && r2.value === "non" && r4 && r4.value === "non" && r5 && r5.value === "non" &&
                r6 && r6.value === "non" && r7 && r7.value === "oui" && r8 && r8.value === "non" &&
                r9 && r9.value === "non" && r10 && r10.value === "non" && r11 && r11.value === "non" &&
                r12 && r12.value === "non" && r13 && r13.value === "non" && r14 && r14.value === "non" &&
                r15 && r15.value === "non" && r16 && r16.value === "non" && r17 && r17.value === "oui") {
                if (r18) {
                    if (r18.value === "non") {
                        impossible = true;
                    } else {
                        const b19 = document.getElementById('bloc-q19');
                        if (b19) b19.style.display = 'block';
                    }
                }
            }

            if (!impossible && r1 && r1.value === "non" && interventionValide &&
                r2 && r2.value === "non" && r4 && r4.value === "non" && r5 && r5.value === "non" &&
                r6 && r6.value === "non" && r7 && r7.value === "oui" && r8 && r8.value === "non" &&
                r9 && r9.value === "non" && r10 && r10.value === "non" && r11 && r11.value === "non" &&
                r12 && r12.value === "non" && r13 && r13.value === "non" && r14 && r14.value === "non" &&
                r15 && r15.value === "non" && r16 && r16.value === "non" && r17 && r17.value === "oui" &&
                r18 && r18.value === "oui") {
                if (r19) {
                    if (r19.value === "non") {
                        impossible = true;
                    } else {
                        const b20 = document.getElementById('bloc-q20');
                        if (b20) b20.style.display = 'block';
                    }
                }
            }

            if (!impossible && r1 && r1.value === "non" && interventionValide &&
                r2 && r2.value === "non" && r4 && r4.value === "non" && r5 && r5.value === "non" &&
                r6 && r6.value === "non" && r7 && r7.value === "oui" && r8 && r8.value === "non" &&
                r9 && r9.value === "non" && r10 && r10.value === "non" && r11 && r11.value === "non" &&
                r12 && r12.value === "non" && r13 && r13.value === "non" && r14 && r14.value === "non" &&
                r15 && r15.value === "non" && r16 && r16.value === "non" && r17 && r17.value === "oui" &&
                r18 && r18.value === "oui" && r19 && r19.value === "oui") {

                if (r20) {
                    if (r20.value === "non") {
                        impossible = true;
                    } else {
                        zoneResultat.style.color = "green";
                        zoneResultat.innerHTML =
                            "C’EST POSSIBLE POUR VOUS, prenez rendez-vous sur Doctolib en sélectionnant Téléconsultation.<br><br>" +
                            "<div class='encadre'>" +
                                "<div class='titre-encadre'>A lire avant votre téléconsultation</div>" +
                                "<div class='texte-encadre'>" +
                                "Dans des cas très rares il est possible que lors de la Téléconsultation le médecin anesthésiste " +
                                "constate que votre état de santé nécessite de vous voir en présentiel et que la Téléconsultation " +
                                "ne soit en fait pas possible pour vous. Dans ces rares situations une consultation présentielle " +
                                "devra alors être programmée.<br><br>" +
                                "Pensez à mettre avant la Téléconsultation sur Doctolib vos ordonnances, compte rendus de consultations " +
                                "spécialisées notamment de cardiologie et le questionnaire d'anesthésie." +
                                "</div>" +
                            "</div>";
                        boutonDoctolib.style.display = "block";
                        return;
                    }
                }
            }

            if (impossible) {
                zoneResultat.style.color = "red";
                zoneResultat.innerHTML =
                    "CE N'EST PAS POSSIBLE pour vous, merci de prendre rendez-vous en présentiel." +
                    "<div class='encadre'>" +
                        "<div class='titre-encadre'>A lire</div>" +
                        "<div class='texte-encadre'>" +
                        "Au vu de ce questionnaire, les conditions de sécurité ne paraissent pas réunies pour que nous puissions vous proposer une téléconsultation. " +
                        "Une consultation au cabinet, en présentiel est nécessaire pour la sécurité de votre prise en charge" +
                        "</div>" +
                    "</div>";
                boutonDoctolib.style.display = "block";
            }
        }

        function reinitialiserFormulaire() {
            const zoneResultat = document.getElementById("resultat");
            const boutonDoctolib = document.getElementById("btn-doctolib");
            zoneResultat.innerHTML = '';
            zoneResultat.style.color = '';
            boutonDoctolib.style.display = 'none';
            setTimeout(evalQuestions, 0);
        }

        document.addEventListener('DOMContentLoaded', function () {
            evalQuestions();
            const inputs = document.querySelectorAll('input[type="radio"]');
            inputs.forEach(input => {
                input.addEventListener('change', evalQuestions);
            });
            const selectQ3 = document.getElementById('q3');
            if (selectQ3) {
                selectQ3.addEventListener('change', evalQuestions);
            }
        });
        </script>
    </main>
</body>
</html>
